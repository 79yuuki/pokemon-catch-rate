<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Pokemon Catch Rate</title>
    <link rel="stylesheet" href="styles/style.css">
</head>
<body>
<script type="text/x-handlebars">
    <h1>Pokemon Catch Rate</h1>

    <div class="container">
        {{outlet}}
    </div>
</script>

<script type="text/x-handlebars" id="index">

    <div class="wild-pokemon">

        {{pokemon-details
            bindedPokemon=selectedWildPokemon
            bindedLevel=selectedWildPokemonLevel
            bindedGender=selectedWildPokemonGender
            pokemonList=model.pokemon
            genderList=genderList
            levelList=model.levels }}

        <div>
            {{view "select"
                value=currentStatus
                content=model.status
                optionLabelPath="content.name"
                prompt="Status"
                }}

            {{input type="checkbox" checked=hasBeenCaughtBefore}}
            HP:
            {{input type="range" class="range-current-hp" style=currentHPRangeBackground name="range" min="1" max="100" value=currentHPPercent}}
        </div>

        <div class="selectedWildPokemon">
            Selected Pokemon:<br/>
            Name: {{selectedWildPokemon.name}}<br/>
            Level: {{selectedWildPokemon.level}}<br/>
            BaseHP: {{selectedWildPokemon.baseHP}}<br/>
            MaxHP: {{selectedWildPokemon.maxHP}}
        </div>

    </div>

    <div class="trainer-pokemon" >
        {{pokemon-details
            bindedPokemon=selectedTrainerPokemon
            bindedLevel=selectedTrainerPokemonLevel
            bindedGender=selectedTrainerPokemonGender
            pokemonList=model.pokemon
            genderList=genderList
            levelList=model.levels }}
    </div>

    {{render 'battle-attributes' this }}

    {{partial 'pokeball-list' }}
</script>

<script type="text/x-handlebars" id="battle-attributes">
    <div class="battle-attributes">
        {{battle-attribute-checkbox isCheckbox=true labelText="Is Dusk? (cave / night)" bindValue=isDusk }}
        {{battle-attribute-checkbox isCheckbox=true labelText="Is Fishing?" bindValue=isFishing }}
        {{battle-attribute-checkbox isCheckbox=true labelText="Is Surfing?" bindValue=isSurfing }}
        {{battle-attribute-checkbox isCheckbox=true labelText="Is Underwater?" bindValue=isUnderwater }}
        {{battle-attribute-checkbox inputType="number" labelText="Number of turns" bindValue=battleTurnsCount }}
    </div>
</script>

<script type="text/x-handlebars" id="components/battle-attribute-checkbox">
    <label>
        {{labelText}}
        {{#if isCheckbox}}
            {{input type="checkbox" checked=bindValue}}
        {{else}}
            {{input type=inputType value=bindValue}}
        {{/if}}
    </label>
</script>

<script type="text/x-handlebars" id="components/pokemon-details">
    <div class="pokemon-details">

        {{#if pokemonList }}
            {{view "select"
                value=bindedPokemon
                content=pokemonList
                optionLabelPath="content.name" }}
        {{else}}
            {{view "select"
                prompt="Loading..." }}
        {{/if}}

        {{view "select"
            value=bindedGender
            content=genderList }}

        Lv.
        {{view "select"
            value=bindedLevel
            content=levelList
            }}
    </div>
</script>

<script type="text/x-handlebars" id="pokeball-list">
    <ul class="pokeball-list">
        {{#each pokeball in model.pokeballs}}
            {{render "pokeball" pokeball}}
        {{/each}}
    </ul>
</script>

<script type="text/x-handlebars" id="pokeball">
    <i {{bind-attr class="spriteClass"}} />
    <div class="pokeball-name">{{name}}</div>
    {{catchRate}}%
</script>

<script type="text/x-handlebars" data-template-name="loading">
    <div class="loading-pane">
        <div class="loading-message">
            Loading Pokemon Data...
        </div>
    </div>
    <div class="spinner-wrapper">
        <div class="spinner"></div>
    </div>
</script>

<script src="scripts/libs/jquery-1.10.2.js"></script>
<script src="scripts/libs/handlebars-v2.0.0.js"></script>
<!--<script src="scripts/libs/ember.min.js"></script>-->
<script src="scripts/libs/ember.debug.js"></script>
<script src="scripts/libs/ember-data.min.js"></script>
<script src="scripts/app.js"></script>

</body>
</html>
